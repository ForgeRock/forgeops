frconfig:
  domain: .svc.cluster.local

idm:
  domain: .svc.cluster.local
  service:
    name: idm-service
    externalPort: 8444
    internalPort: 8444
  resources:
    requests:
      memory: "512Mi"
  config:
    strategy: files
    path: /opt/openidm
  image:
    repository: forgerock-docker-public.bintray.io/forgerock/sample-fr-platform/idm
    tag: latest
  ingress:
    enabled: false

amster:
  domain: .svc.cluster.local
  configStore:
    suffix:  "ou=identities"
  resources:
    requests:
      memory: "64Mi"
  config:
    strategy: files
    importPath: /opt/amster/config/
  image:
    repository: forgerock-docker-public.bintray.io/forgerock/sample-fr-platform/amster
    tag: latest

rs:
  domain: .svc.cluster.local
  service:
    name: rs-service
  resources:
    requests:
      memory: "128Mi"
  component: rs
  config:
    strategy: files
    path: /var/openig
  image:
    repository: forgerock-docker-public.bintray.io/forgerock/sample-fr-platform/rs
    tag: latest
  ingress:
    hostname: rs-service.sample.svc.cluster.local
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/enable-cors: "true"
      nginx.ingress.kubernetes.io/cors-allow-origin: "*"
      nginx.ingress.kubernetes.io/cors-allow-methods: "PUT,GET,POST,HEAD,PATCH,DELETE"
      nginx.ingress.kubernetes.io/cors-allow-headers: "authorization,x-requested-with,cache-control,content-type,x-openidm-nosession,x-openidm-password,x-openidm-username,if-match,if-none-match"
      nginx.ingress.kubernetes.io/cors-allow-credentials: "false"
      nginx.ingress.kubernetes.io/cors-max-age: "600"
      nginx.ingress.kubernetes.io/configuration-snippet: |
        more_set_headers "Access-Control-Expose-Headers: WWW-Authenticate";

openam:
  domain: .svc.cluster.local
  ingress:
    hostname: login.sample.svc.cluster.local
  config:
    strategy: files

configstore:
  baseDN: "ou=identities"
  instance: configstore
  persistence: false
  opendjJavaArgs: "-Xmx400m"
  resources:
    limits:
      memory: 600Mi
    requests:
      memory: 400Mi
